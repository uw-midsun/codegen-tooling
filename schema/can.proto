syntax = "proto3";

// NEXT TAG = 4
message Dataframe {
  enum Type { UINT64 = 0; }

  Type type = 1;
  uint32 start = 2;
  uint32 end = 3;
}

// NEXT TAG = 3
message CanData {
  uint64 data = 1;
  repeated Dataframe frame = 2;
}

// NEXT TAG = 7
message CanMsg {
  enum Source { // TODO: decide on these
    PLUTUS = 0;
    CHAOS = 1;
    TELEMETRY = 2;
    LIGHTS = 3;
    MOTOR_CONTROLLER = 4;
    THEMIS = 5;
    RASPBERRY_PI = 6;
    MPPT_FRONT = 7;
    MPPT_REAR = 8;
  }
  
  uint32 id = 1;     // 0-2047 only
  Source source = 2; // 0-15 only
  bool msg_type = 3;
  uint32 global_msg_id = 4; // 0-63 only
  string msg_name = 5;
  CanData can_data = 6;
}

// NEXT TAG = 2
message CanSchema { repeated CanMsg msg = 1; }
